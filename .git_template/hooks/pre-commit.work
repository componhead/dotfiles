#!/usr/bin/env bash

current_branch_name="$(git rev-parse --abbrev-ref HEAD)"
issue_number_pattern='^feature/.+$|^hotfix/\d+\.\d+\.\d+$|^bugfix/\d+\.\d+\.\d+$|^release/\d+\.\d+\.\d$'
if ! grep -iqE "$issue_number_pattern" <<< "$current_branch_name" ; then   
    error_msg="Aborting commit... You should commit from a gitflow standard branch"
    exit 1
else
    issue_number=grep -oE "[0-9]+" <<< $1
    if $issue_number
fi

exit 0
